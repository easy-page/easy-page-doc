"use strict";(self.webpackChunkeasy_page_doc=self.webpackChunkeasy_page_doc||[]).push([[8523],{1542:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>E,contentTitle:()=>F,default:()=>O,frontMatter:()=>j,metadata:()=>P,toc:()=>I});var a=t(6070),l=t(6113),i=t(8981),o=t(9449);const r=new i.PageUtil({pageId:"demo1",rootUIConfig:{form:{className:"p-4 border border-solid mb-4"}}});r.addFields([i.nodeUtil.createField("test","\u6d4b\u8bd5",{value:""})]);const s=r.getPageInfo();console.log("childFormInfo:",s);t(758);const d="child-form",c=(0,i.generateId)(d),u=i.nodeUtil.createChildForm("child-form",{childFormContext:["name","actId"],postprocess(e){let{value:n}=e;const{formUtils:t,childForms:a}=n;return{activities:a.map((e=>{const n=t?.[e.id];console.log("eee:",t,e.id,n);const a=n?.getFormData();return a}))}},validate:async e=>{let{value:n}=e;return{success:!(await(0,i.validateAllChildForm)(n)).find((e=>Boolean(e.errors)))}},value:{childForms:[{label:"",id:c}],choosedItemId:c},childFormContainer:e=>{let{value:n,onChange:t,onRemove:l,onAdd:r,childFormContextData:d,setChildFormRef:c,onChildFormChanged:u}=e;console.log("childFormContextData:",d);const{childForms:m=[],choosedItemId:p}=n||{};return(0,a.jsx)("div",{children:(0,a.jsx)(o.A,{activeKey:p,destroyInactiveTabPane:!1,type:"editable-card",onChange:e=>t({...n,choosedItemId:e}),onEdit:(e,n)=>{"add"===n?r():"remove"===n&&l(e)},items:m.map(((e,n)=>({id:e.id,icon:e.icon,key:e.id,label:e.label||`\u5b50\u6d3b\u52a8${n+1}`,children:(0,a.jsx)(i.EasyPage,{components:i.DEFAULT_COMPONENTS,pageKey:e.id,context:d,pageType:"form",onChange:u,setFormUtil:n=>c(n,e.id),...s})})))})})}},{childForm:{childFormIdPrefix:d}}),m=i.nodeUtil.createField("desc","\u4ecb\u7ecd",{value:""},{ui:i.UI_COMPONENTS.TEXTAREA}),p=i.nodeUtil.createField("friend","\u670b\u53cb",{mode:"single",value:{value:""}},{ui:i.UI_COMPONENTS.SELECT,select:{options:[{label:"\u670b\u53cb1",value:"friend1"},{label:"\u670b\u53cb2",value:"friend2"}]}}),h=i.nodeUtil.createField("hobby","\u5174\u8da3",{value:[],mode:"multiple"},{checkBoxGroup:{options:[{label:"\u8bfb\u4e66",value:"read"},{label:"\u542c\u6b4c",value:"listen"}]}}),g=i.nodeUtil.createField("name","\u59d3\u540d",{value:"",required:!0,validate:async e=>{let{value:n}=e;return n?{success:!0}:{success:!1,errorMsg:"\u8bf7\u8f93\u5165\u59d3\u540d"}}},{formItem:{tooltip:"\u8fd9\u662f\u59d3\u540d"}}),v=i.nodeUtil.createField("sex","\u6027\u522b",{value:"",mode:"single"},{radioGroup:{options:[{label:"\u7537",value:"main"},{label:"\u5973",value:"female"}]}}),x=i.nodeUtil.createField("myswitch","\u6d4b\u8bd5",{value:!1,childrenWhen:{effectedKeys:["myswitch"],show(e){let{effectedData:n}=e;return!0===n.myswitch}}},{ui:i.UI_COMPONENTS.SWITCH}).appendChildren([i.nodeUtil.createField("test1","\u6d4b\u8bd51",{value:""})]),f=i.nodeUtil.createField("timeRange","\u65f6\u95f4\u8303\u56f4",{postprocess:e=>({timeRange:e.value?.map((e=>e?.toString()))})},{ui:i.UI_COMPONENTS.DATE_PICKER_RANGE}),U=i.nodeUtil.createField("date","\u65f6\u95f4",{value:void 0,postprocess:e=>({date:e.value?.toString()})},{ui:i.UI_COMPONENTS.DATE_PICKER});var b=t(3533);const N=new i.PageUtil({pageId:"demo1"});N.addFields([g,v,h,p,m,U,f,x,u,b.K]);const C=N.getPageInfo();console.log("pageInfo:",C);const y=()=>(0,a.jsx)(i.EasyPage,{components:{...i.DEFAULT_COMPONENTS,...i.EXTRA_COMPONENTS},pageType:"form",...C}),j={sidebar_position:2},F="\u521b\u5efa\u57fa\u7840\u8868\u5355",P={id:"tutorial-basics/create-basic-form",title:"\u521b\u5efa\u57fa\u7840\u8868\u5355",description:"\u5b66\u4e60\u5b8c\u57fa\u7840\u7684\u8868\u5355\u5f00\u53d1\u6d41\u7a0b\uff0c\u6211\u4eec\u6765\u521b\u5efa\u4e00\u4e0b\u5e38\u89c1\u7684\u8868\u5355\u5b57\u6bb5\u3002",source:"@site/docs/tutorial-basics/create-basic-form.md",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/create-basic-form",permalink:"/easy-page-doc/docs/tutorial-basics/create-basic-form",draft:!1,unlisted:!1,editUrl:"https://github.com/easy-page/easy-page-doc/docs/tutorial-basics/create-basic-form.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"\u5feb\u901f\u4e0a\u624b",permalink:"/easy-page-doc/docs/tutorial-basics/quick-start"},next:{title:"\u641c\u7d22\u4e0b\u62c9\u6846",permalink:"/easy-page-doc/docs/tutorial-basics/create-select"}},E={},I=[{value:"\u7ec4\u4ef6",id:"\u7ec4\u4ef6",level:2},{value:"\u8f93\u5165\u6846",id:"\u8f93\u5165\u6846",level:3},{value:"\u5355\u9009\u6846",id:"\u5355\u9009\u6846",level:3},{value:"\u591a\u9009\u6846",id:"\u591a\u9009\u6846",level:3},{value:"\u4e0b\u62c9\u6846",id:"\u4e0b\u62c9\u6846",level:3},{value:"\u6587\u672c\u6846",id:"\u6587\u672c\u6846",level:3},{value:"\u65e5\u671f\u6846",id:"\u65e5\u671f\u6846",level:3},{value:"\u65e5\u671f\u8303\u56f4\u6846",id:"\u65e5\u671f\u8303\u56f4\u6846",level:3},{value:"\u5f00\u5173",id:"\u5f00\u5173",level:3},{value:"\u589e\u5220\u5b50\u8868\u5355",id:"\u589e\u5220\u5b50\u8868\u5355",level:3},{value:"Demo",id:"demo",level:2}];function T(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"\u521b\u5efa\u57fa\u7840\u8868\u5355",children:"\u521b\u5efa\u57fa\u7840\u8868\u5355"}),"\n",(0,a.jsx)(n.p,{children:"\u5b66\u4e60\u5b8c\u57fa\u7840\u7684\u8868\u5355\u5f00\u53d1\u6d41\u7a0b\uff0c\u6211\u4eec\u6765\u521b\u5efa\u4e00\u4e0b\u5e38\u89c1\u7684\u8868\u5355\u5b57\u6bb5\u3002"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"\u9664\u4e86\u4e0b\u9762\u6240\u6f14\u793a\u7684\u7ec4\u4ef6\u5916\uff0c\u7528\u6237\u53ef\u81ea\u7531\u6269\u5c55\u3002"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\u7ec4\u4ef6",children:"\u7ec4\u4ef6"}),"\n",(0,a.jsx)(n.h3,{id:"\u8f93\u5165\u6846",children:"\u8f93\u5165\u6846"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { nodeUtil } from '@easy-page/antd-ui';\n\nexport const name = nodeUtil.createField('name', '\u59d3\u540d', {\n  value: '',\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u5355\u9009\u6846",children:"\u5355\u9009\u6846"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { nodeUtil } from '@easy-page/antd-ui';\n\nexport const sex = nodeUtil.createField(\n  'sex',\n  '\u6027\u522b',\n  { value: '', mode: 'single' },\n  {\n    radioGroup: {\n      options: [\n        { label: '\u7537', value: 'main' },\n        { label: '\u5973', value: 'female' },\n      ],\n    },\n  }\n);\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u591a\u9009\u6846",children:"\u591a\u9009\u6846"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { nodeUtil } from '@easy-page/antd-ui';\nimport { PageState } from '../../interface';\n\nexport const hobby = nodeUtil.createField<string[], PageState>(\n  'hobby',\n  '\u5174\u8da3',\n  {\n    value: [],\n    mode: 'multiple',\n  },\n  {\n    checkBoxGroup: {\n      options: [\n        { label: '\u8bfb\u4e66', value: 'read' },\n        { label: '\u542c\u6b4c', value: 'listen' },\n      ],\n    },\n  }\n);\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u4e0b\u62c9\u6846",children:"\u4e0b\u62c9\u6846"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { SelectState, UI_COMPONENTS, nodeUtil } from '@easy-page/antd-ui';\n\nexport const friend = nodeUtil.createField<SelectState<string>>(\n  'friend',\n  '\u670b\u53cb',\n  { mode: 'single' },\n  {\n    ui: UI_COMPONENTS.SELECT,\n    select: {\n      options: [\n        { label: '\u670b\u53cb1', value: 'friend1' },\n        { label: '\u670b\u53cb2', value: 'friend2' },\n      ],\n    },\n  }\n);\n\n\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u6587\u672c\u6846",children:"\u6587\u672c\u6846"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { UI_COMPONENTS, nodeUtil } from '@easy-page/antd-ui';\n\nexport const desc = nodeUtil.createField(\n  'desc',\n  '\u4ecb\u7ecd',\n  {\n    value: '',\n  },\n  {\n    ui: UI_COMPONENTS.TEXTAREA,\n  }\n);\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u65e5\u671f\u6846",children:"\u65e5\u671f\u6846"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { UI_COMPONENTS, nodeUtil } from '@easy-page/antd-ui';\nimport { DatePickerProps } from 'antd';\n\nexport const date = nodeUtil.createField<DatePickerProps['value']>(\n  'date',\n  '\u65f6\u95f4',\n  {\n    value: undefined,\n    postprocess(context) {\n      return {\n        date: context.value?.toString(),\n      };\n    },\n  },\n  { ui: UI_COMPONENTS.DATE_PICKER }\n);\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u65e5\u671f\u8303\u56f4\u6846",children:"\u65e5\u671f\u8303\u56f4\u6846"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { UI_COMPONENTS, nodeUtil } from '@easy-page/antd-ui';\nimport { RangePickerProps } from 'antd/es/date-picker';\n\nexport const timeRange = nodeUtil.createField<RangePickerProps['value'][]>(\n  'timeRange',\n  '\u65f6\u95f4\u8303\u56f4',\n  {\n    postprocess(context) {\n      return {\n        timeRange: context.value?.map((e) => e?.toString()),\n      };\n    },\n  },\n  { ui: UI_COMPONENTS.DATE_PICKER_RANGE }\n);\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u5f00\u5173",children:"\u5f00\u5173"}),"\n",(0,a.jsx)(n.p,{children:"\u5f00\u5173\u6253\u5f00\u540e\uff0c\u5c55\u793a\u4e00\u4e2a\u5b57\u6bb5"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import { UI_COMPONENTS, nodeUtil } from '@easy-page/antd-ui';\n\nexport const myswitch = nodeUtil\n  .createField<boolean, { myswitch: boolean }>(\n    'myswitch',\n    '\u6d4b\u8bd5',\n    {\n      value: false,\n      childrenWhen: {\n        effectedKeys: ['myswitch'],\n        show({ effectedData }) {\n          return effectedData.myswitch === true;\n        },\n      },\n    },\n    {\n      ui: UI_COMPONENTS.SWITCH,\n    }\n  )\n  .appendChildren([\n    nodeUtil.createField<string, { name: string }>('test1', '\u6d4b\u8bd51', {\n      value: '',\n    }),\n  ]);\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u589e\u5220\u5b50\u8868\u5355",children:"\u589e\u5220\u5b50\u8868\u5355"}),"\n",(0,a.jsxs)(n.p,{children:["\u53c2\u8003\uff1a",(0,a.jsx)(n.a,{href:"/docs/tutorial-basics/create-child-form",children:"\u589e\u5220\u5b50\u8868\u5355"}),"\u7ae0\u8282\u3002"]}),"\n",(0,a.jsx)(n.h2,{id:"demo",children:"Demo"}),"\n","\n",(0,a.jsx)(y,{})]})}function O(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(T,{...e})}):T(e)}},3533:(e,n,t)=>{t.d(n,{K:()=>s});var a=t(8981),l=(t(758),t(6137)),i=t(6070);const o=a.nodeUtil.createCustomNode("validate",(e=>{let{frameworkProps:{getFormUtil:n}}=e;return(0,i.jsx)(l.Ay,{onClick:async()=>{const e=n?.();try{await(e?.validateAll())}catch(t){console.log("\u9a8c\u8bc1\u7ed3\u679c:",t)}},children:"\u9a8c\u8bc1"})}),{value:""}),r=a.nodeUtil.createCustomNode("submit",(e=>{let{frameworkProps:{getFormUtil:n}}=e;return(0,i.jsx)(l.Ay,{type:"primary",style:{marginLeft:12},onClick:()=>{const e=n?.();console.log("\u8868\u5355\u503c\uff1a",e?.getFormData())},children:"\u8868\u5355\u503c"})}),{value:""}),s=a.nodeUtil.createContainer("tool-bar",(e=>{let{children:n}=e;return(0,i.jsx)("div",{className:"flex flex-row",style:{marginBottom:12},children:n})})).appendChildren([o,r])}}]);