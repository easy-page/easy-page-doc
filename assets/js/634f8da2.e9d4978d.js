"use strict";(self.webpackChunkeasy_page_doc=self.webpackChunkeasy_page_doc||[]).push([[4701],{6831:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>h,default:()=>v,frontMatter:()=>p,metadata:()=>x,toc:()=>j});var r=t(6070),o=t(6113),s=t(8981),a=(t(758),t(3533)),l=t(6129);const i=s.nodeUtil.createCustomField("name","\u59d3\u540d",(e=>{let{value:n,onChange:t}=e;return(0,r.jsx)(l.A,{value:n,placeholder:"\u59d3\u540d",onChange:t})}),{value:""}),c=s.nodeUtil.createField("age","\u5e74\u9f84",{value:"",required:!0,postprocess:e=>({age:Number(e.value)}),validate(e){let{value:n,pageState:t}=e;return n?+n<0||+n>200&&"pk"!==t.name?{success:!1,errorMsg:"\u8bf7\u8f93\u5165\u5408\u6cd5\u5e74\u9f84"}:{success:!0}:{success:!1,errorMsg:"\u8bf7\u8f93\u5165\u5e74\u9f84"}},actions:[{effectedKeys:["name"],initRun:!0,action:e=>{let{effectedData:n}=e;return{effectResult:{inputProps:{placeholder:`${n.name||"-"} \u7684\u5e74\u9f84`}}}}}],when:{effectedKeys:["name"],show(e){let{effectedData:n}=e;return"a"!==n.name}}},{input:{trigger:"onChange"},formItem:{customExtra:e=>{let{value:n}=e;return(0,r.jsx)("div",{children:n&&+n<10?"\u513f\u7ae5":""})}}}),d=new s.PageUtil({pageId:"form-page"});d.addFields([i,c,a.K]);const u=d.getPageInfo(),m=()=>(0,r.jsx)(s.EasyPage,{...u,components:s.DEFAULT_COMPONENTS,pageType:"form"}),p={sidebar_position:8},h="\u5b57\u6bb5\u81ea\u5b9a\u4e49\u7ec4\u4ef6",x={id:"tutorial-extras/custom",title:"\u5b57\u6bb5\u81ea\u5b9a\u4e49\u7ec4\u4ef6",description:"\u5728\u8868\u5355\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u9047\u5230\u8fd9\u6837\u7684\u573a\u666f\uff1a",source:"@site/docs/tutorial-extras/custom.mdx",sourceDirName:"tutorial-extras",slug:"/tutorial-extras/custom",permalink:"/docs/tutorial-extras/custom",draft:!1,unlisted:!1,editUrl:"https://github.com/easy-page/easy-page-doc/docs/tutorial-extras/custom.mdx",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"\u5b57\u6bb5\u53ef\u7f16\u8f91\u63a7\u5236",permalink:"/docs/tutorial-extras/mode"},next:{title:"\u6269\u5c55\u4e00\u4e2a\u901a\u7528\u7ec4\u4ef6",permalink:"/docs/tutorial-extras/extends_components"}},g={},j=[{value:"\u81ea\u5b9a\u4e49\u8868\u5355\u5b57\u6bb5",id:"\u81ea\u5b9a\u4e49\u8868\u5355\u5b57\u6bb5",level:2},{value:"\u81ea\u5b9a\u4e49\u975e\u8868\u5355\u5b57\u6bb5",id:"\u81ea\u5b9a\u4e49\u975e\u8868\u5355\u5b57\u6bb5",level:2}];function f(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"\u5b57\u6bb5\u81ea\u5b9a\u4e49\u7ec4\u4ef6",children:"\u5b57\u6bb5\u81ea\u5b9a\u4e49\u7ec4\u4ef6"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u8868\u5355\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u9047\u5230\u8fd9\u6837\u7684\u573a\u666f\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u9ed8\u8ba4\u7ec4\u4ef6\u5e93\u91cc\u7684\u7ec4\u4ef6\u4e0d\u80fd\u6ee1\u8db3\u81ea\u5df1\u7684\u8bc9\u6c42\uff0c\u9700\u8981\u6269\u5c55\u7ec4\u4ef6\uff0c\u4f46\u662f\u8fd9\u4e2a\u7ec4\u4ef6\u901a\u7528\u578b\u53c8\u4e0d\u597d\uff0c\u5305\u542b\u8fc7\u591a\u4e1a\u52a1\u903b\u8f91\u3002\n\u6b64\u65f6\u5c31\u53ef\u4ee5\u76f4\u63a5\u81ea\u5b9a\u4e49\u7ec4\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u878d\u5165\uff1aEasyPage \u4e2d\uff0c"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u81ea\u5b9a\u4e49\u8868\u5355\u5b57\u6bb5",children:"\u81ea\u5b9a\u4e49\u8868\u5355\u5b57\u6bb5"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"nodeUtil.createCustomField"})," \u521b\u5efa\u7684\u81ea\u5b9a\u4e49\u7ec4\u4ef6\uff0c\u4f1a\u81ea\u52a8\u88ab\uff1a",(0,r.jsx)(n.code,{children:"FormItem"})," \u5143\u7d20\u5305\u88f9\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { nodeUtil } from '@easy-page/antd-ui';\nimport { Input } from 'antd';\nimport React from 'react';\n\nexport const name = nodeUtil.createCustomField(\n  'name',\n  '\u59d3\u540d',\n  ({ value, onChange }) => {\n    return <Input value={value} placeholder=\"\u59d3\u540d\" onChange={onChange} />;\n  },\n  {\n    value: '',\n  }\n);\n\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u6211\u4eec\u901a\u8fc7\uff1a",(0,r.jsx)(n.code,{children:"nodeUtil.createCustomField"})," api \u521b\u5efa\u4e86\u59d3\u540d\u5b57\u6bb5\uff0c\u6307\u5b9a\u4e86\u81ea\u5df1\u6240\u9700\u7684 ",(0,r.jsx)(n.code,{children:"Input"})," \u7ec4\u4ef6\uff0c\u5e76\u53ef\u4ee5\u9488\u5bf9 ",(0,r.jsx)(n.code,{children:"Input"})," \u505a\u66f4\u7075\u6d3b\u7684\u64cd\u4f5c\u3002\n\u8fd9\u6837\u7684\u4e00\u4e2a\u8282\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u653e\u5165\uff1a",(0,r.jsx)(n.code,{children:"EasyPage"})," \u4e2d\uff0c\u5982\u4e0b\u6548\u679c\uff1a"]}),"\n","\n",(0,r.jsx)(m,{}),"\n",(0,r.jsx)(n.h2,{id:"\u81ea\u5b9a\u4e49\u975e\u8868\u5355\u5b57\u6bb5",children:"\u81ea\u5b9a\u4e49\u975e\u8868\u5355\u5b57\u6bb5"}),"\n",(0,r.jsxs)(n.p,{children:["\u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u8fd8\u60f3\u5f80\u9875\u9762\u91cc\u6dfb\u52a0\uff1a\u975e\u8868\u5355\u5143\u7d20\u8282\u70b9\uff0c\u7528\u4e8e\uff1a\u505a\u4e00\u4e9b\u63d0\u793a\u4ea4\u4e92\u3001\u505a\u63d0\u4ea4\u6309\u94ae\u7b49\u3002\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\uff1a",(0,r.jsx)(n.code,{children:"nodeUtil.createCustomNode"})," \u521b\u5efa\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u5728\u4e0a\u9762\u7684\u6848\u4f8b\u4e2d\u7684\u63d0\u4ea4\u6309\u94ae\uff0c\u6211\u4eec\u662f\u8fd9\u4e48\u505a\u7684\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"export const submit = nodeUtil.createCustomNode(\n  'submit',\n  ({ frameworkProps: { getFormUtil } }) => {\n    return (\n      <Button\n        type=\"primary\"\n        style={{ marginLeft: 12 }}\n        onClick={() => {\n          const formUtil = getFormUtil?.();\n          console.log('\u8868\u5355\u503c\uff1a', formUtil?.getFormData());\n        }}\n      >\n        \u63d0\u4ea4\n      </Button>\n    );\n  },\n  {\n    value: '',\n  }\n);\n\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u901a\u8fc7\u6846\u67b6\u63d0\u4f9b\u7684\uff1a",(0,r.jsx)(n.code,{children:"frameworkProps"})," \u4e2d\u7684 ",(0,r.jsx)(n.code,{children:"getFormUtil"})," \u5c31\u53ef\u4ee5\u63d0\u4ea4\u6570\u636e\u548c\u6821\u9a8c\u4e86\uff0c\u662f\u4e0d\u662f\u5f88\u65b9\u4fbf\u5462\u3002"]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5c0f\u6280\u5de7\uff1aapi \u4e2d\u4ee5\uff1a",(0,r.jsx)(n.code,{children:"Field"})," \u7ed3\u5c3e\u7684\u4f1a\u88ab ",(0,r.jsx)(n.code,{children:"FormItem"})," \u9ed8\u8ba4\u5305\u88f9\uff0c\u5176\u4f59\u4e0d\u4f1a\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"createCustomNode"})," api \u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003 API \u6587\u6863\uff1a",(0,r.jsx)(n.a,{href:"/docs/apis/nodeApi/node_api#createcustomnode",children:"nodeUtil.createCustomNode"})]}),"\n"]})})]})}function v(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}},3533:(e,n,t)=>{t.d(n,{K:()=>i});var r=t(8981),o=(t(758),t(6137)),s=t(6070);const a=r.nodeUtil.createCustomNode("validate",(e=>{let{frameworkProps:{getFormUtil:n}}=e;return(0,s.jsx)(o.Ay,{onClick:async()=>{const e=n?.();try{await(e?.validateAll())}catch(t){console.log("\u9a8c\u8bc1\u7ed3\u679c:",t)}},children:"\u9a8c\u8bc1"})}),{value:""}),l=r.nodeUtil.createCustomNode("submit",(e=>{let{frameworkProps:{getFormUtil:n}}=e;return(0,s.jsx)(o.Ay,{type:"primary",style:{marginLeft:12},onClick:()=>{const e=n?.();console.log("\u8868\u5355\u503c\uff1a",e?.getFormData())},children:"\u8868\u5355\u503c"})}),{value:""}),i=r.nodeUtil.createContainer("tool-bar",(e=>{let{children:n}=e;return(0,s.jsx)("div",{className:"flex flex-row",style:{marginBottom:12},children:n})})).appendChildren([a,l])}}]);